<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="create_run_jar" name="Create Runnable Jar for Project alpha.glue.v2 with Jar-in-Jar Loader">
    <!--this file was created by Eclipse Runnable JAR file Export Wizard-->
    <!--ANT 1.7 is required-->
    <!--define folder properties-->
    <property name="dir.buildfile" value="."/>
    <property name="dir.jarfile" value="${basedir}/../../artifact/bin"/>
    <target name="create_run_jar">
        <fail message="org.eclipse.emf.ecore_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.emf.ecore_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.emf.common_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.emf.common_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.xtext.xbase.lib_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.xtext.xbase.lib_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="com.google.guava_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="com.google.guava_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.emf.ecore.xcore.lib_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.emf.ecore.xcore.lib_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.core.runtime_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.core.runtime_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.osgi_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.osgi_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.codehaus.groovy.eclipse.frameworkAdapter_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.codehaus.groovy.eclipse.frameworkAdapter_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.osgi.compatibility.state_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.osgi.compatibility.state_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.equinox.common_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.equinox.common_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.core.jobs_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.core.jobs_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.equinox.registry_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.equinox.registry_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.equinox.preferences_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.equinox.preferences_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.osgi.service.prefs_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.osgi.service.prefs_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.core.contenttype_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.core.contenttype_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.equinox.app_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.equinox.app_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.emf.ecore.xcore_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.emf.ecore.xcore_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.xtext_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.xtext_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.emf.ecore.xmi_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.emf.ecore.xmi_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.antlr.runtime_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.antlr.runtime_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="com.google.inject_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="com.google.inject_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.emf.mwe.core_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.emf.mwe.core_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.apache.commons.cli_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.apache.commons.cli_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.emf.mwe2.runtime_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.emf.mwe2.runtime_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.emf.mwe.utils_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.emf.mwe.utils_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.xtext.util_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.xtext.util_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="javax.inject_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="javax.inject_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.apache.log4j_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.apache.log4j_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.xtext.xbase_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.xtext.xbase_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.xtext.common.types_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.xtext.common.types_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.xtend.lib_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.xtend.lib_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.xtend.lib.macro_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.xtend.lib.macro_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.xtext.ecore_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.xtext.ecore_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.emf.codegen.ecore.xtext_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.emf.codegen.ecore.xtext_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="fr.irisa.cairn.jnimap.isl_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="fr.irisa.cairn.jnimap.isl_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="fr.irisa.cairn.jnimap.runtime_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="fr.irisa.cairn.jnimap.runtime_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="org.eclipse.xtend.typesystem.emf_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="org.eclipse.xtend.typesystem.emf_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="fr.irisa.cairn.jnimap.polylib_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="fr.irisa.cairn.jnimap.polylib_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="fr.irisa.cairn.jnimap.barvinok_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="fr.irisa.cairn.jnimap.barvinok_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="alpha.model.xtext_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="alpha.model.xtext_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="alpha.targetmapping.xtext_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="alpha.targetmapping.xtext_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="alpha.loader_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="alpha.loader_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
        <fail message="alpha.targetmapping_*.jar is missing">
            <condition>
                <not>
                    <resourcecount count="1" when="ge">
                        <fileset dir="${ant.home}/../" includes="alpha.targetmapping_*.jar"/>
                    </resourcecount>
                </not>
            </condition>
        </fail>
    	
        <jar destfile="${dir.jarfile}/alpha.glue.v2.jar">
            <manifest>
                <attribute name="Main-Class" value="org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader"/>
                <attribute name="Rsrc-Main-Class" value="alpha.glue.v2.GenerateABFTBenchmarking"/>
                <attribute name="Class-Path" value="."/>
            	<attribute name="Rsrc-Class-Path" value="./ org.eclipse.emf.ecore.jar org.eclipse.emf.common.jar org.eclipse.xtext.xbase.lib.jar com.google.guava.jar org.eclipse.emf.ecore.xcore.lib.jar org.eclipse.core.runtime.jar org.eclipse.osgi.jar org.codehaus.groovy.eclipse.frameworkAdapter.jar org.eclipse.osgi.compatibility.state.jar org.eclipse.equinox.common.jar org.eclipse.core.jobs.jar org.eclipse.equinox.registry.jar org.eclipse.equinox.preferences.jar org.osgi.service.prefs.jar org.eclipse.core.contenttype.jar org.eclipse.equinox.app.jar org.eclipse.emf.ecore.xcore.jar org.eclipse.xtext.jar org.eclipse.emf.ecore.xmi.jar org.antlr.runtime.jar com.google.inject.jar org.eclipse.emf.mwe.core.jar org.apache.commons.cli.jar org.eclipse.emf.mwe2.runtime.jar org.eclipse.emf.mwe.utils.jar org.eclipse.xtext.util.jar javax.inject.jar org.apache.log4j.jar org.eclipse.xtext.xbase.jar org.eclipse.xtext.common.types.jar org.eclipse.xtend.lib.jar org.eclipse.xtend.lib.macro.jar org.eclipse.xtext.ecore.jar org.eclipse.emf.codegen.ecore.xtext.jar fr.irisa.cairn.jnimap.isl.jar fr.irisa.cairn.jnimap.runtime.jar org.eclipse.xtend.typesystem.emf.jar fr.irisa.cairn.jnimap.polylib.jar fr.irisa.cairn.jnimap.barvinok.jar alpha.model.xtext.jar alpha.targetmapping.xtext.jar alpha.loader.jar alpha.targetmapping.jar"/>
            </manifest>
            <zipfileset src="jar-in-jar-loader.zip"/>
            <fileset dir="${dir.buildfile}/bin"/>
            <fileset dir="${basedir}../../../alpha-language/bundles/alpha.codegen/bin"/>
            <fileset dir="${basedir}../../../alpha-language/bundles/alpha.model/bin"/>
        	<fileset dir="${basedir}../../../alpha-language/bundles/alpha.abft/bin"/>
            <mappedresources>
                <zipfileset dir="${ant.home}/../">
                	<include name="org.eclipse.emf.ecore_*.jar"/>
                	<include name="org.eclipse.emf.common_*.jar"/>
                	<include name="org.eclipse.xtext.xbase.lib_*.jar"/>
                	<include name="com.google.guava_*.jar"/>
                	<include name="org.eclipse.emf.ecore.xcore.lib_*.jar"/>
                	<include name="org.eclipse.core.runtime_*.jar"/>
                	<include name="org.eclipse.osgi_*.jar"/>
                	<include name="org.codehaus.groovy.eclipse.frameworkAdapter_*.jar"/>
                	<include name="org.eclipse.osgi.compatibility.state_*.jar"/>
                	<include name="org.eclipse.equinox.common_*.jar"/>
                	<include name="org.eclipse.core.jobs_*.jar"/>
                	<include name="org.eclipse.equinox.registry_*.jar"/>
                	<include name="org.eclipse.equinox.preferences_*.jar"/>
                	<include name="org.osgi.service.prefs_*.jar"/>
                	<include name="org.eclipse.core.contenttype_*.jar"/>
                	<include name="org.eclipse.equinox.app_*.jar"/>
                	<include name="org.eclipse.emf.ecore.xcore_*.jar"/>
                	<include name="org.eclipse.xtext_*.jar"/>
                	<include name="org.eclipse.emf.ecore.xmi_*.jar"/>
                	<include name="org.antlr.runtime_*.jar"/>
                	<include name="com.google.inject_*.jar"/>
                	<include name="org.eclipse.emf.mwe.core_*.jar"/>
                	<include name="org.apache.commons.cli_*.jar"/>
                	<include name="org.eclipse.emf.mwe2.runtime_*.jar"/>
                	<include name="org.eclipse.emf.mwe.utils_*.jar"/>
                	<include name="org.eclipse.xtext.util_*.jar"/>
                	<include name="javax.inject_*.jar"/>
                	<include name="org.apache.log4j_*.jar"/>
                	<include name="org.eclipse.xtext.xbase_*.jar"/>
                	<include name="org.eclipse.xtext.common.types_*.jar"/>
                	<include name="org.eclipse.xtend.lib_*.jar"/>
                	<include name="org.eclipse.xtend.lib.macro_*.jar"/>
                	<include name="org.eclipse.xtext.ecore_*.jar"/>
                	<include name="org.eclipse.emf.codegen.ecore.xtext_*.jar"/>
                	<include name="fr.irisa.cairn.jnimap.isl_*.jar"/>
                	<include name="fr.irisa.cairn.jnimap.runtime_*.jar"/>
                	<include name="org.eclipse.xtend.typesystem.emf_*.jar"/>
                	<include name="fr.irisa.cairn.jnimap.polylib_*.jar"/>
                	<include name="fr.irisa.cairn.jnimap.barvinok_*.jar"/>
                	<include name="alpha.model.xtext_*.jar"/>
                	<include name="alpha.targetmapping.xtext_*.jar"/>
                	<include name="alpha.loader_*.jar"/>
                	<include name="alpha.targetmapping_*.jar"/>
            	</zipfileset>
            	<mapper type="regexp" from="^([^_]+)_.+$$" to="\1.jar"/>
            </mappedresources>
        </jar>
    </target>
</project>
